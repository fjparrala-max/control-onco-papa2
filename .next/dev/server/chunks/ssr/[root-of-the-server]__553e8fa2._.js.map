{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/franc/OneDrive%20-%20Universidad%20Mayor/Escritorio/proyecto%20sergio/control-onco-papa/lib/db.ts"],"sourcesContent":["import Dexie, { Table } from \"dexie\";\r\nimport { Entry, Professional } from \"./types\";\r\n\r\nclass LocalDB extends Dexie {\r\n  entries!: Table<Entry, string>;\r\n  professionals!: Table<Professional, string>;\r\n\r\n  constructor() {\r\n    super(\"controlOncoPapa\");\r\n    this.version(1).stores({\r\n      entries: \"id, type, dateTime, status, professionalId\",\r\n      professionals: \"id, name, specialty\"\r\n    });\r\n  }\r\n}\r\n\r\nexport const localDB = new LocalDB();\r\n"],"names":[],"mappings":";;;;AAAA;;;;;;AAGA,MAAM,gBAAgB,iKAAK;IACzB,QAA+B;IAC/B,cAA4C;IAE5C,aAAc;QACZ,KAAK,CAAC;QACN,IAAI,CAAC,OAAO,CAAC,GAAG,MAAM,CAAC;YACrB,SAAS;YACT,eAAe;QACjB;IACF;AACF;AAEO,MAAM,UAAU,IAAI"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/franc/OneDrive%20-%20Universidad%20Mayor/Escritorio/proyecto%20sergio/control-onco-papa/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getStorage } from \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FB_API_KEY!,\r\n  authDomain: process.env.NEXT_PUBLIC_FB_AUTH_DOMAIN!,\r\n  projectId: process.env.NEXT_PUBLIC_FB_PROJECT_ID!,\r\n  storageBucket: process.env.NEXT_PUBLIC_FB_STORAGE_BUCKET!,\r\n  messagingSenderId: process.env.NEXT_PUBLIC_FB_SENDER_ID!,\r\n  appId: process.env.NEXT_PUBLIC_FB_APP_ID!\r\n};\r\n\r\nconst app = getApps().length ? getApps()[0] : initializeApp(firebaseConfig);\r\n\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\nexport const storage = getStorage(app);\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,MAAM,MAAM,IAAA,wLAAO,IAAG,MAAM,GAAG,IAAA,wLAAO,GAAE,CAAC,EAAE,GAAG,IAAA,8LAAa,EAAC;AAErD,MAAM,OAAO,IAAA,0LAAO,EAAC;AACrB,MAAM,KAAK,IAAA,yMAAY,EAAC;AACxB,MAAM,UAAU,IAAA,mMAAU,EAAC"}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/franc/OneDrive%20-%20Universidad%20Mayor/Escritorio/proyecto%20sergio/control-onco-papa/pages/index.tsx"],"sourcesContent":["import { useEffect, useMemo, useState } from \"react\";\r\nimport { localDB } from \"../lib/db\";\r\nimport { auth, db, storage } from \"../lib/firebase\";\r\nimport type { Entry, EntryStatus, EntryType, Professional } from \"../lib/types\";\r\nimport { collection, deleteDoc, doc, getDocs, orderBy, query, setDoc } from \"firebase/firestore\";\r\nimport { getDownloadURL, ref, uploadBytes } from \"firebase/storage\";\r\nimport { onAuthStateChanged, type User } from \"firebase/auth\";\r\n\r\nfunction nowISO() {\r\n  return new Date().toISOString();\r\n}\r\nfunction typeLabel(t: EntryType) {\r\n  return t === \"med\" ? \"Medicamento (toma)\" : t === \"chemo\" ? \"Quimioterapia\" : t === \"exam\" ? \"Examen\" : \"Control\";\r\n}\r\nfunction statusLabel(s: EntryStatus) {\r\n  return s === \"planned\" ? \"Planificado\" : s === \"done\" ? \"Realizado\" : \"Cancelado\";\r\n}\r\n\r\n// Firestore NO acepta undefined ‚Üí lo removemos\r\nfunction stripUndefined<T extends Record<string, any>>(obj: T): T {\r\n  const out: any = {};\r\n  for (const [k, v] of Object.entries(obj)) if (v !== undefined) out[k] = v;\r\n  return out;\r\n}\r\n\r\ntype Attachment = {\r\n  id: string;\r\n  name: string;\r\n  url: string;\r\n  path: string;\r\n  contentType?: string;\r\n  size?: number;\r\n  createdAt: string;\r\n};\r\n\r\n// Extendemos Entry sin tocar lib/types\r\ntype EntryExt = Entry & {\r\n  createdByUid?: string;\r\n  createdByEmail?: string;\r\n  updatedByUid?: string;\r\n  updatedByEmail?: string;\r\n};\r\n\r\nexport default function Home() {\r\n  const [activeCaseId, setActiveCaseId] = useState<string>(\"\");\r\n\r\n  const [user, setUser] = useState<User | null>(null);\r\n\r\n  const [entries, setEntries] = useState<EntryExt[]>([]);\r\n  const [professionals, setProfessionals] = useState<Professional[]>([]);\r\n  const [filter, setFilter] = useState<EntryType | \"all\">(\"all\");\r\n\r\n  // Form / edit\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [editingId, setEditingId] = useState<string | null>(null);\r\n\r\n  // Subida\r\n  const [uploadingEntryId, setUploadingEntryId] = useState<string | null>(null);\r\n  const [newFile, setNewFile] = useState<File | null>(null);\r\n\r\n  // form fields\r\n  const [type, setType] = useState<EntryType>(\"control\");\r\n  const [title, setTitle] = useState(\"\");\r\n  const [dateTime, setDateTime] = useState(() => new Date().toISOString().slice(0, 16));\r\n  const [status, setStatus] = useState<EntryStatus>(\"planned\");\r\n  const [doseAmount, setDoseAmount] = useState<string>(\"\");\r\n  const [doseUnit, setDoseUnit] = useState<string>(\"\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [notes, setNotes] = useState(\"\");\r\n  const [professionalId, setProfessionalId] = useState<string>(\"\");\r\n\r\n  useEffect(() => {\r\n    const id = typeof window !== \"undefined\" ? localStorage.getItem(\"activeCaseId\") : null;\r\n    setActiveCaseId(id || \"\");\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const unsub = onAuthStateChanged(auth, (u) => setUser(u));\r\n    return () => unsub();\r\n  }, []);\r\n\r\n  async function refresh() {\r\n    if (activeCaseId) {\r\n      const eQ = query(collection(db, \"cases\", activeCaseId, \"entries\"), orderBy(\"dateTime\", \"desc\"));\r\n      const pQ = query(collection(db, \"cases\", activeCaseId, \"professionals\"), orderBy(\"name\", \"asc\"));\r\n      const [eSnap, pSnap] = await Promise.all([getDocs(eQ), getDocs(pQ)]);\r\n\r\n      setEntries(eSnap.docs.map((d) => d.data() as EntryExt));\r\n      setProfessionals(pSnap.docs.map((d) => d.data() as Professional));\r\n      return;\r\n    }\r\n\r\n    const e = (await localDB.entries.orderBy(\"dateTime\").reverse().toArray()) as any as EntryExt[];\r\n    const p = await localDB.professionals.orderBy(\"name\").toArray();\r\n    setEntries(e);\r\n    setProfessionals(p);\r\n  }\r\n\r\n  useEffect(() => {\r\n    refresh();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [activeCaseId]);\r\n\r\n  const summary = useMemo(() => {\r\n    const done = entries.filter((e) => e.status === \"done\");\r\n    const planned = entries.filter((e) => e.status === \"planned\");\r\n    const count = (arr: EntryExt[], t: EntryType) => arr.filter((e) => e.type === t).length;\r\n    return {\r\n      chemo: { done: count(done, \"chemo\"), planned: count(planned, \"chemo\") },\r\n      med: { done: count(done, \"med\"), planned: count(planned, \"med\") },\r\n      control: { done: count(done, \"control\"), planned: count(planned, \"control\") },\r\n      exam: { done: count(done, \"exam\"), planned: count(planned, \"exam\") }\r\n    };\r\n  }, [entries]);\r\n\r\n  const filtered = useMemo(() => {\r\n    return filter === \"all\" ? entries : entries.filter((e) => e.type === filter);\r\n  }, [entries, filter]);\r\n\r\n  function resetForm() {\r\n    setEditingId(null);\r\n    setType(\"control\");\r\n    setTitle(\"\");\r\n    setDateTime(new Date().toISOString().slice(0, 16));\r\n    setStatus(\"planned\");\r\n    setDoseAmount(\"\");\r\n    setDoseUnit(\"\");\r\n    setLocation(\"\");\r\n    setNotes(\"\");\r\n    setProfessionalId(\"\");\r\n    setNewFile(null);\r\n  }\r\n\r\n  function openCreate() {\r\n    resetForm();\r\n    setShowForm(true);\r\n  }\r\n\r\n  function openEdit(e: EntryExt) {\r\n    setEditingId(e.id);\r\n    setShowForm(true);\r\n\r\n    setType(e.type);\r\n    setTitle(e.title || \"\");\r\n    setDateTime(new Date(e.dateTime).toISOString().slice(0, 16));\r\n    setStatus(e.status);\r\n    setDoseAmount(e.doseAmount !== undefined ? String(e.doseAmount) : \"\");\r\n    setDoseUnit(e.doseUnit || \"\");\r\n    setLocation(e.location || \"\");\r\n    setNotes(e.notes || \"\");\r\n    setProfessionalId(e.professionalId || \"\");\r\n    setNewFile(null); // archivo opcional nuevo al editar\r\n  }\r\n\r\n  async function uploadAttachment(entryId: string, file: File): Promise<Attachment> {\r\n    if (!activeCaseId) throw new Error(\"No hay caso activo\");\r\n\r\n    const attId = crypto.randomUUID();\r\n    const safeName = file.name.replace(/[^\\w.\\- ()]/g, \"_\");\r\n    const path = `cases/${activeCaseId}/entries/${entryId}/${attId}-${safeName}`;\r\n\r\n    const storageRef = ref(storage, path);\r\n    await uploadBytes(storageRef, file);\r\n    const url = await getDownloadURL(storageRef);\r\n\r\n    return stripUndefined({\r\n      id: attId,\r\n      name: file.name,\r\n      url,\r\n      path,\r\n      contentType: file.type || undefined,\r\n      size: file.size || undefined,\r\n      createdAt: nowISO()\r\n    });\r\n  }\r\n\r\n  async function addAttachmentToExisting(entry: EntryExt, file: File) {\r\n    if (!activeCaseId) return alert(\"Para adjuntar archivos necesitas un caso activo (nube).\");\r\n    if (!user) return alert(\"Debes estar logueado para adjuntar.\");\r\n\r\n    try {\r\n      setUploadingEntryId(entry.id);\r\n\r\n      const att = await uploadAttachment(entry.id, file);\r\n      const current = ((entry.attachments || []) as any[]) as Attachment[];\r\n\r\n      const updated: EntryExt = {\r\n        ...entry,\r\n        attachments: [...current, att],\r\n        updatedAt: nowISO(),\r\n        updatedByUid: user.uid,\r\n        updatedByEmail: user.email || undefined\r\n      };\r\n\r\n      await setDoc(doc(db, \"cases\", activeCaseId, \"entries\", entry.id), stripUndefined(updated));\r\n      await refresh();\r\n    } catch (e: any) {\r\n      console.error(e);\r\n      alert(e?.message || \"No se pudo subir el archivo\");\r\n    } finally {\r\n      setUploadingEntryId(null);\r\n    }\r\n  }\r\n\r\n  async function saveEntry() {\r\n    if (!title.trim()) return alert(\"Falta t√≠tulo (ej: Control Urolog√≠a / PSA / Quimio ciclo 2)\");\r\n\r\n    // Autor (para nube)\r\n    const byUid = user?.uid;\r\n    const byEmail = user?.email || undefined;\r\n\r\n    const ts = nowISO();\r\n    const iso = new Date(dateTime).toISOString();\r\n\r\n    // Si estamos editando, partimos del registro actual (para no perder attachments/createdBy)\r\n    const baseExisting = editingId ? entries.find((x) => x.id === editingId) : null;\r\n\r\n    const entry: EntryExt = {\r\n      id: editingId || crypto.randomUUID(),\r\n      type,\r\n      title: title.trim(),\r\n      dateTime: iso,\r\n      status,\r\n      doseAmount: doseAmount ? Number(doseAmount) : undefined,\r\n      doseUnit: doseUnit ? doseUnit.trim() : undefined,\r\n      professionalId: professionalId || undefined,\r\n      location: location || undefined,\r\n      notes: notes || undefined,\r\n\r\n      // conservar adjuntos si existe\r\n      attachments: (baseExisting?.attachments as any) || [],\r\n\r\n      // created/updated\r\n      createdAt: baseExisting?.createdAt || ts,\r\n      updatedAt: ts,\r\n\r\n      // autor√≠a\r\n      createdByUid: baseExisting?.createdByUid || byUid,\r\n      createdByEmail: baseExisting?.createdByEmail || byEmail,\r\n      updatedByUid: byUid,\r\n      updatedByEmail: byEmail\r\n    };\r\n\r\n    // Guardado base\r\n    if (activeCaseId) {\r\n      if (!user) return alert(\"Debes estar logueado para guardar en nube.\");\r\n\r\n      await setDoc(doc(db, \"cases\", activeCaseId, \"entries\", entry.id), stripUndefined(entry));\r\n\r\n      // Si eligi√≥ archivo en el formulario, lo subimos y actualizamos el entry\r\n      if (newFile) {\r\n        try {\r\n          setUploadingEntryId(entry.id);\r\n          const att = await uploadAttachment(entry.id, newFile);\r\n          const updated: EntryExt = {\r\n            ...entry,\r\n            attachments: [...(((entry.attachments || []) as any[]) as Attachment[]), att],\r\n            updatedAt: nowISO(),\r\n            updatedByUid: user.uid,\r\n            updatedByEmail: user.email || undefined\r\n          };\r\n          await setDoc(doc(db, \"cases\", activeCaseId, \"entries\", entry.id), stripUndefined(updated));\r\n        } finally {\r\n          setUploadingEntryId(null);\r\n          setNewFile(null);\r\n        }\r\n      }\r\n    } else {\r\n      // Local (sin nube)\r\n      if (editingId) {\r\n        await localDB.entries.put(entry as any);\r\n      } else {\r\n        await localDB.entries.put(entry as any);\r\n      }\r\n      setNewFile(null);\r\n    }\r\n\r\n    await refresh();\r\n    setShowForm(false);\r\n    resetForm();\r\n  }\r\n\r\n  async function toggleDone(e: EntryExt) {\r\n    const updated: EntryExt = {\r\n      ...e,\r\n      status: e.status === \"done\" ? \"planned\" : \"done\",\r\n      updatedAt: nowISO(),\r\n      updatedByUid: user?.uid,\r\n      updatedByEmail: user?.email || undefined\r\n    };\r\n\r\n    if (activeCaseId) {\r\n      await setDoc(doc(db, \"cases\", activeCaseId, \"entries\", updated.id), stripUndefined(updated));\r\n    } else {\r\n      await localDB.entries.put(updated as any);\r\n    }\r\n    await refresh();\r\n  }\r\n\r\n  async function deleteEntry(id: string) {\r\n    if (!confirm(\"¬øEliminar este registro?\")) return;\r\n\r\n    if (activeCaseId) {\r\n      await deleteDoc(doc(db, \"cases\", activeCaseId, \"entries\", id));\r\n    } else {\r\n      await localDB.entries.delete(id);\r\n    }\r\n    await refresh();\r\n  }\r\n\r\n  async function exportICS(entry: EntryExt) {\r\n    const prof = entry.professionalId ? professionals.find((p) => p.id === entry.professionalId) : null;\r\n\r\n    const r = await fetch(\"/api/ics\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ entry, professional: prof || null })\r\n    });\r\n\r\n    if (!r.ok) return alert(\"No se pudo generar el .ics\");\r\n\r\n    const blob = await r.blob();\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement(\"a\");\r\n    a.href = url;\r\n    a.download = `${entry.title}.ics`;\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    a.remove();\r\n    URL.revokeObjectURL(url);\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>Control Onco Pap√°</h1>\r\n\r\n      <div className=\"card\" style={{ marginBottom: 12 }}>\r\n        <b>Caso activo</b>\r\n        <div style={{ marginTop: 8 }}>\r\n          <small>\r\n            {activeCaseId ? (\r\n              <>‚úÖ Guardando en nube (Firestore/Storage) ‚Ä¢ ID: {activeCaseId}</>\r\n            ) : (\r\n              <>‚ö†Ô∏è Sin caso activo (guardando local en este computador)</>\r\n            )}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"row\" style={{ marginTop: 10 }}>\r\n          <a className=\"btn2\" href=\"/casos\" style={{ textDecoration: \"none\" }}>\r\n            Casos\r\n          </a>\r\n          <a className=\"btn2\" href=\"/profesionales\" style={{ textDecoration: \"none\" }}>\r\n            Profesionales\r\n          </a>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"card\" style={{ marginBottom: 12 }}>\r\n        <b>Resumen (Hechos / Pendientes)</b>\r\n        <div style={{ marginTop: 10, display: \"grid\", gap: 6 }}>\r\n          <div>\r\n            üíâ Quimioterapias: Hechas <b>{summary.chemo.done}</b> /{\" \"}\r\n            <span style={{ color: \"red\" }}>\r\n              Pendientes <b>{summary.chemo.planned}</b>\r\n            </span>\r\n          </div>\r\n          <div>\r\n            üíä Medicamentos (tomas): Hechas <b>{summary.med.done}</b> /{\" \"}\r\n            <span style={{ color: \"red\" }}>\r\n              Pendientes <b>{summary.med.planned}</b>\r\n            </span>\r\n          </div>\r\n          <div>\r\n            üóìÔ∏è Controles: Hechos <b>{summary.control.done}</b> /{\" \"}\r\n            <span style={{ color: \"red\" }}>\r\n              Pendientes <b>{summary.control.planned}</b>\r\n            </span>\r\n          </div>\r\n          <div>\r\n            üß™ Ex√°menes: Hechos <b>{summary.exam.done}</b> /{\" \"}\r\n            <span style={{ color: \"red\" }}>\r\n              Pendientes <b>{summary.exam.planned}</b>\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\" style={{ marginTop: 12 }}>\r\n          <button className=\"btn\" onClick={openCreate}>\r\n            + A√±adir registro\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {showForm && (\r\n        <div className=\"card\" style={{ marginBottom: 12 }}>\r\n          <b>{editingId ? \"Editar registro\" : \"Nuevo registro\"}</b>\r\n\r\n          <div style={{ marginTop: 10, display: \"grid\", gap: 10 }}>\r\n            <div>\r\n              <small>Tipo</small>\r\n              <select value={type} onChange={(e) => setType(e.target.value as EntryType)}>\r\n                <option value=\"control\">Control</option>\r\n                <option value=\"chemo\">Quimioterapia</option>\r\n                <option value=\"exam\">Examen</option>\r\n                <option value=\"med\">Medicamento (toma)</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <small>T√≠tulo</small>\r\n              <input value={title} onChange={(e) => setTitle(e.target.value)} placeholder=\"Ej: Control Urolog√≠a / PSA\" />\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <div style={{ flex: 1 }}>\r\n                <small>Fecha y hora</small>\r\n                <input type=\"datetime-local\" value={dateTime} onChange={(e) => setDateTime(e.target.value)} />\r\n              </div>\r\n              <div style={{ flex: 1 }}>\r\n                <small>Estado</small>\r\n                <select value={status} onChange={(e) => setStatus(e.target.value as EntryStatus)}>\r\n                  <option value=\"planned\">Planificado</option>\r\n                  <option value=\"done\">Realizado</option>\r\n                  <option value=\"cancelled\">Cancelado</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <div style={{ flex: 1 }}>\r\n                <small>Cantidad (opcional)</small>\r\n                <input value={doseAmount} onChange={(e) => setDoseAmount(e.target.value)} placeholder=\"Ej: 1 / 500\" />\r\n              </div>\r\n              <div style={{ flex: 1 }}>\r\n                <small>Unidad (opcional)</small>\r\n                <input value={doseUnit} onChange={(e) => setDoseUnit(e.target.value)} placeholder=\"Ej: comp / mg / ml\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <small>Lugar (opcional)</small>\r\n              <input value={location} onChange={(e) => setLocation(e.target.value)} placeholder=\"Ej: Cl√≠nica / Hospital\" />\r\n            </div>\r\n\r\n            <div>\r\n              <small>Notas (opcional)</small>\r\n              <textarea value={notes} onChange={(e) => setNotes(e.target.value)} rows={3} placeholder=\"Qu√© llevar, preguntas, etc.\" />\r\n            </div>\r\n\r\n            <div>\r\n              <small>Profesional (opcional)</small>\r\n              <select value={professionalId} onChange={(e) => setProfessionalId(e.target.value)}>\r\n                <option value=\"\">(sin profesional)</option>\r\n                {professionals.map((p) => (\r\n                  <option key={p.id} value={p.id}>\r\n                    {p.name} ‚Äî {p.specialty}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            {/* ‚úÖ Adjuntar archivo EN CREAR/EDITAR */}\r\n            <div>\r\n              <small>Adjuntar archivo (opcional)</small>\r\n              <input\r\n                type=\"file\"\r\n                accept=\"application/pdf,image/*\"\r\n                disabled={!activeCaseId}\r\n                onChange={(e) => setNewFile(e.target.files?.[0] || null)}\r\n              />\r\n              {!activeCaseId && (\r\n                <small style={{ color: \"red\" }}>Para adjuntar archivos necesitas un caso activo (nube).</small>\r\n              )}\r\n              {newFile && (\r\n                <small>\r\n                  Seleccionado: <b>{newFile.name}</b>\r\n                </small>\r\n              )}\r\n              {uploadingEntryId && <small>Subiendo archivo‚Ä¶</small>}\r\n            </div>\r\n\r\n            <div className=\"row\" style={{ marginTop: 6 }}>\r\n              <button className=\"btn\" onClick={saveEntry}>\r\n                {editingId ? \"Guardar cambios\" : \"Guardar\"}\r\n              </button>\r\n              <button\r\n                className=\"btn2\"\r\n                onClick={() => {\r\n                  setShowForm(false);\r\n                  resetForm();\r\n                }}\r\n              >\r\n                Cancelar\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"card\" style={{ marginBottom: 12 }}>\r\n        <b>Filtrar</b>\r\n        <select value={filter} onChange={(e) => setFilter(e.target.value as any)} style={{ marginTop: 8 }}>\r\n          <option value=\"all\">Todo</option>\r\n          <option value=\"control\">Controles</option>\r\n          <option value=\"chemo\">Quimioterapias</option>\r\n          <option value=\"exam\">Ex√°menes</option>\r\n          <option value=\"med\">Medicamentos (tomas)</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div style={{ display: \"grid\", gap: 10 }}>\r\n        {filtered.map((e) => {\r\n          const atts = ((e.attachments || []) as any[]) as Attachment[];\r\n\r\n          return (\r\n            <div className=\"card\" key={e.id}>\r\n              <div style={{ display: \"flex\", justifyContent: \"space-between\", gap: 10 }}>\r\n                <div>\r\n                  <b>{e.title}</b>\r\n                  <div>\r\n                    <small>\r\n                      {typeLabel(e.type)} ‚Ä¢ {new Date(e.dateTime).toLocaleString()}\r\n                    </small>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <small>\r\n                      Estado:{\" \"}\r\n                      <span style={{ color: e.status === \"planned\" ? \"red\" : \"inherit\" }}>{statusLabel(e.status)}</span>\r\n                    </small>\r\n                  </div>\r\n\r\n                  {/* ‚úÖ Autor√≠a */}\r\n                  <div style={{ marginTop: 6 }}>\r\n                    {e.createdByEmail && (\r\n                      <div>\r\n                        <small>Creado por: {e.createdByEmail}</small>\r\n                      </div>\r\n                    )}\r\n                    {e.updatedByEmail && (\r\n                      <div>\r\n                        <small>√öltima edici√≥n: {e.updatedByEmail}</small>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div style={{ display: \"grid\", gap: 8 }}>\r\n                  {(e.type === \"control\" || e.type === \"exam\" || e.type === \"chemo\") && (\r\n                    <button className=\"btn2\" onClick={() => exportICS(e)}>\r\n                      A√±adir al Calendario\r\n                    </button>\r\n                  )}\r\n\r\n                  {/* ‚úÖ Adjuntar tambi√©n desde la tarjeta */}\r\n                  <label className=\"btn2\" style={{ cursor: \"pointer\", textAlign: \"center\" }}>\r\n                    {uploadingEntryId === e.id ? \"Subiendo‚Ä¶\" : \"Adjuntar PDF/foto\"}\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"application/pdf,image/*\"\r\n                      style={{ display: \"none\" }}\r\n                      disabled={!activeCaseId || uploadingEntryId === e.id}\r\n                      onChange={(ev) => {\r\n                        const file = ev.target.files?.[0];\r\n                        ev.target.value = \"\";\r\n                        if (file) addAttachmentToExisting(e, file);\r\n                      }}\r\n                    />\r\n                  </label>\r\n\r\n                  {/* ‚úÖ Editar */}\r\n                  <button className=\"btn2\" onClick={() => openEdit(e)}>\r\n                    Editar\r\n                  </button>\r\n\r\n                  <button className=\"btn2\" onClick={() => toggleDone(e)}>\r\n                    {e.status === \"done\" ? \"Marcar pendiente\" : \"Marcar realizado\"}\r\n                  </button>\r\n\r\n                  <button className=\"btn2\" onClick={() => deleteEntry(e.id)}>\r\n                    Eliminar\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {(e.doseAmount || e.doseUnit) && (\r\n                <div style={{ marginTop: 8 }}>\r\n                  <small>\r\n                    Cantidad: {e.doseAmount ?? \"\"} {e.doseUnit ?? \"\"}\r\n                  </small>\r\n                </div>\r\n              )}\r\n              {e.location && (\r\n                <div style={{ marginTop: 4 }}>\r\n                  <small>Lugar: {e.location}</small>\r\n                </div>\r\n              )}\r\n              {e.notes && <div style={{ marginTop: 8 }}>{e.notes}</div>}\r\n\r\n              {/* ‚úÖ Lista de adjuntos */}\r\n              {!!atts.length && (\r\n                <div style={{ marginTop: 12 }}>\r\n                  <b>Adjuntos</b>\r\n                  <div style={{ marginTop: 6, display: \"grid\", gap: 6 }}>\r\n                    {atts.map((a) => (\r\n                      <a key={a.id} href={a.url} target=\"_blank\" rel=\"noreferrer\">\r\n                        {a.name}\r\n                      </a>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n\r\n        {!filtered.length && <div className=\"card\">Sin registros a√∫n.</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}