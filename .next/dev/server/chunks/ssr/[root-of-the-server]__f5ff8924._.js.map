{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/franc/OneDrive%20-%20Universidad%20Mayor/Escritorio/proyecto%20sergio/control-onco-papa/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getStorage } from \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FB_API_KEY!,\r\n  authDomain: process.env.NEXT_PUBLIC_FB_AUTH_DOMAIN!,\r\n  projectId: process.env.NEXT_PUBLIC_FB_PROJECT_ID!,\r\n  storageBucket: process.env.NEXT_PUBLIC_FB_STORAGE_BUCKET!,\r\n  messagingSenderId: process.env.NEXT_PUBLIC_FB_SENDER_ID!,\r\n  appId: process.env.NEXT_PUBLIC_FB_APP_ID!\r\n};\r\n\r\nconst app = getApps().length ? getApps()[0] : initializeApp(firebaseConfig);\r\n\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\nexport const storage = getStorage(app);\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,MAAM,MAAM,IAAA,wLAAO,IAAG,MAAM,GAAG,IAAA,wLAAO,GAAE,CAAC,EAAE,GAAG,IAAA,8LAAa,EAAC;AAErD,MAAM,OAAO,IAAA,0LAAO,EAAC;AACrB,MAAM,KAAK,IAAA,yMAAY,EAAC;AACxB,MAAM,UAAU,IAAA,mMAAU,EAAC"}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/franc/OneDrive%20-%20Universidad%20Mayor/Escritorio/proyecto%20sergio/control-onco-papa/pages/login.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport { auth } from \"../lib/firebase\";\r\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from \"firebase/auth\";\r\n\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [pass, setPass] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [userEmail, setUserEmail] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const unsub = onAuthStateChanged(auth, (u) => {\r\n      setUserEmail(u?.email ?? null);\r\n      setLoading(false);\r\n      if (u) router.replace(\"/casos\");\r\n    });\r\n    return () => unsub();\r\n  }, [router]);\r\n\r\n  async function login() {\r\n    try {\r\n      await signInWithEmailAndPassword(auth, email.trim(), pass);\r\n    } catch (e: any) {\r\n      alert(e?.message || \"Error al iniciar sesión\");\r\n    }\r\n  }\r\n\r\n  async function register() {\r\n    try {\r\n      await createUserWithEmailAndPassword(auth, email.trim(), pass);\r\n    } catch (e: any) {\r\n      alert(e?.message || \"Error al crear cuenta\");\r\n    }\r\n  }\r\n\r\n  async function logout() {\r\n    await signOut(auth);\r\n  }\r\n\r\n  if (loading) return <div className=\"container\"><div className=\"card\">Cargando…</div></div>;\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h1>Acceso</h1>\r\n\r\n      <div className=\"card\" style={{ marginBottom: 12 }}>\r\n        <b>Iniciar sesión / Crear cuenta</b>\r\n\r\n        <div style={{ marginTop: 10, display: \"grid\", gap: 10 }}>\r\n          <div>\r\n            <small>Correo</small>\r\n            <input value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"correo@ejemplo.com\" />\r\n          </div>\r\n          <div>\r\n            <small>Clave</small>\r\n            <input type=\"password\" value={pass} onChange={(e) => setPass(e.target.value)} placeholder=\"mín. 6 caracteres\" />\r\n          </div>\r\n\r\n          <div className=\"row\">\r\n            <button className=\"btn\" onClick={login}>Entrar</button>\r\n            <button className=\"btn2\" onClick={register}>Crear cuenta</button>\r\n          </div>\r\n\r\n          {userEmail && (\r\n            <button className=\"btn2\" onClick={logout}>Cerrar sesión</button>\r\n          )}\r\n\r\n          <small>Tip: crea una cuenta para ti y otra para cada familiar que quieras invitar.</small>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;AAEe,SAAS;IACtB,MAAM,SAAS,IAAA,oIAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,+GAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAgB;IAE1D,IAAA,gHAAS,EAAC;QACR,MAAM,QAAQ,IAAA,qMAAkB,EAAC,gHAAI,EAAE,CAAC;YACtC,aAAa,GAAG,SAAS;YACzB,WAAW;YACX,IAAI,GAAG,OAAO,OAAO,CAAC;QACxB;QACA,OAAO,IAAM;IACf,GAAG;QAAC;KAAO;IAEX,eAAe;QACb,IAAI;YACF,MAAM,IAAA,6MAA0B,EAAC,gHAAI,EAAE,MAAM,IAAI,IAAI;QACvD,EAAE,OAAO,GAAQ;YACf,MAAM,GAAG,WAAW;QACtB;IACF;IAEA,eAAe;QACb,IAAI;YACF,MAAM,IAAA,iNAA8B,EAAC,gHAAI,EAAE,MAAM,IAAI,IAAI;QAC3D,EAAE,OAAO,GAAQ;YACf,MAAM,GAAG,WAAW;QACtB;IACF;IAEA,eAAe;QACb,MAAM,IAAA,0LAAO,EAAC,gHAAI;IACpB;IAEA,IAAI,SAAS,qBAAO,qKAAC;QAAI,WAAU;kBAAY,cAAA,qKAAC;YAAI,WAAU;sBAAO;;;;;;;;;;;IAErE,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;0BAAG;;;;;;0BAEJ,qKAAC;gBAAI,WAAU;gBAAO,OAAO;oBAAE,cAAc;gBAAG;;kCAC9C,qKAAC;kCAAE;;;;;;kCAEH,qKAAC;wBAAI,OAAO;4BAAE,WAAW;4BAAI,SAAS;4BAAQ,KAAK;wBAAG;;0CACpD,qKAAC;;kDACC,qKAAC;kDAAM;;;;;;kDACP,qKAAC;wCAAM,OAAO;wCAAO,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wCAAG,aAAY;;;;;;;;;;;;0CAE9E,qKAAC;;kDACC,qKAAC;kDAAM;;;;;;kDACP,qKAAC;wCAAM,MAAK;wCAAW,OAAO;wCAAM,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wCAAG,aAAY;;;;;;;;;;;;0CAG5F,qKAAC;gCAAI,WAAU;;kDACb,qKAAC;wCAAO,WAAU;wCAAM,SAAS;kDAAO;;;;;;kDACxC,qKAAC;wCAAO,WAAU;wCAAO,SAAS;kDAAU;;;;;;;;;;;;4BAG7C,2BACC,qKAAC;gCAAO,WAAU;gCAAO,SAAS;0CAAQ;;;;;;0CAG5C,qKAAC;0CAAM;;;;;;;;;;;;;;;;;;;;;;;;AAKjB"}}]
}