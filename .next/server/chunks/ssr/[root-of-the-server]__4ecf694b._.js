module.exports=[4859,a=>a.a(async(b,c)=>{try{let b=await a.y("dexie-3930fa6eee3037c1");a.n(b),c()}catch(a){c(a)}},!0),4139,a=>a.a(async(b,c)=>{try{var d=a.i(4859),e=b([d]);[d]=e.then?(await e)():e;class f extends d.default{entries;professionals;constructor(){super("controlOncoPapa"),this.version(1).stores({entries:"id, type, dateTime, status, professionalId",professionals:"id, name, specialty"})}}let g=new f;a.s(["localDB",0,g]),c()}catch(a){c(a)}},!1),5205,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(7669),f=a.i(4139),g=b([f]);function h(){return new Date().toISOString()}function i(){let[a,b]=(0,e.useState)([]),[c,g]=(0,e.useState)([]),[i,j]=(0,e.useState)("all"),[k,l]=(0,e.useState)(!1),[m,n]=(0,e.useState)("control"),[o,p]=(0,e.useState)(""),[q,r]=(0,e.useState)(()=>new Date().toISOString().slice(0,16)),[s,t]=(0,e.useState)("planned"),[u,v]=(0,e.useState)(""),[w,x]=(0,e.useState)(""),[y,z]=(0,e.useState)(""),[A,B]=(0,e.useState)(""),[C,D]=(0,e.useState)("");async function E(){let a=await f.localDB.entries.orderBy("dateTime").reverse().toArray(),c=await f.localDB.professionals.orderBy("name").toArray();b(a),g(c)}(0,e.useEffect)(()=>{E()},[]);let F=(0,e.useMemo)(()=>{let b=a.filter(a=>"done"===a.status),c=a.filter(a=>"planned"===a.status),d=(a,b)=>a.filter(a=>a.type===b).length;return{chemo:{done:d(b,"chemo"),planned:d(c,"chemo")},med:{done:d(b,"med"),planned:d(c,"med")},control:{done:d(b,"control"),planned:d(c,"control")},exam:{done:d(b,"exam"),planned:d(c,"exam")}}},[a]),G=(0,e.useMemo)(()=>"all"===i?a:a.filter(a=>a.type===i),[a,i]);async function H(){if(!o.trim())return alert("Falta tÃ­tulo (ej: Control UrologÃ­a / PSA / Quimio ciclo 2)");let a=h(),b=new Date(q).toISOString(),c={id:crypto.randomUUID(),type:m,title:o.trim(),dateTime:b,status:s,doseAmount:u?Number(u):void 0,doseUnit:w?w.trim():void 0,professionalId:C||void 0,location:y||void 0,notes:A||void 0,attachments:[],createdAt:a,updatedAt:a};await f.localDB.entries.put(c),await E(),l(!1),n("control"),p(""),r(new Date().toISOString().slice(0,16)),t("planned"),v(""),x(""),z(""),B(""),D("")}async function I(a){let b={...a,status:"done"===a.status?"planned":"done",updatedAt:h()};await f.localDB.entries.put(b),await E()}async function J(a){confirm("Â¿Eliminar este registro?")&&(await f.localDB.entries.delete(a),await E())}async function K(a){let b=a.professionalId?c.find(b=>b.id===a.professionalId):null,d=await fetch("/api/ics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({entry:a,professional:b||null})});if(!d.ok)return alert("No se pudo generar el .ics");let e=await d.blob(),f=URL.createObjectURL(e),g=document.createElement("a");g.href=f,g.download=`${a.title}.ics`,document.body.appendChild(g),g.click(),g.remove(),URL.revokeObjectURL(f)}return(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Control Onco PapÃ¡"}),(0,d.jsxs)("div",{className:"card",style:{marginBottom:12},children:[(0,d.jsx)("b",{children:"Resumen (Hechos / Pendientes)"}),(0,d.jsxs)("div",{style:{marginTop:10,display:"grid",gap:6},children:[(0,d.jsxs)("div",{children:["ðŸ’‰ Quimioterapias: Hechas ",(0,d.jsx)("b",{children:F.chemo.done})," /"," ",(0,d.jsxs)("span",{style:{color:"red"},children:["Pendientes ",(0,d.jsx)("b",{children:F.chemo.planned})]})]}),(0,d.jsxs)("div",{children:["ðŸ’Š Medicamentos (tomas): Hechas ",(0,d.jsx)("b",{children:F.med.done})," /"," ",(0,d.jsxs)("span",{style:{color:"red"},children:["Pendientes ",(0,d.jsx)("b",{children:F.med.planned})]})]}),(0,d.jsxs)("div",{children:["ðŸ—“ï¸ Controles: Hechos ",(0,d.jsx)("b",{children:F.control.done})," /"," ",(0,d.jsxs)("span",{style:{color:"red"},children:["Pendientes ",(0,d.jsx)("b",{children:F.control.planned})]})]}),(0,d.jsxs)("div",{children:["ðŸ§ª ExÃ¡menes: Hechos ",(0,d.jsx)("b",{children:F.exam.done})," /"," ",(0,d.jsxs)("span",{style:{color:"red"},children:["Pendientes ",(0,d.jsx)("b",{children:F.exam.planned})]})]})]}),(0,d.jsxs)("div",{className:"row",style:{marginTop:12},children:[(0,d.jsx)("button",{className:"btn",onClick:()=>l(!0),children:"+ AÃ±adir registro"}),(0,d.jsx)("a",{className:"btn2",href:"/profesionales",style:{textDecoration:"none",display:"inline-flex",alignItems:"center",justifyContent:"center"},children:"Profesionales"})]})]}),k&&(0,d.jsxs)("div",{className:"card",style:{marginBottom:12},children:[(0,d.jsx)("b",{children:"Nuevo registro"}),(0,d.jsxs)("div",{style:{marginTop:10,display:"grid",gap:10},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("small",{children:"Tipo"}),(0,d.jsxs)("select",{value:m,onChange:a=>n(a.target.value),children:[(0,d.jsx)("option",{value:"control",children:"Control"}),(0,d.jsx)("option",{value:"chemo",children:"Quimioterapia"}),(0,d.jsx)("option",{value:"exam",children:"Examen"}),(0,d.jsx)("option",{value:"med",children:"Medicamento (toma)"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("small",{children:"TÃ­tulo"}),(0,d.jsx)("input",{value:o,onChange:a=>p(a.target.value),placeholder:"Ej: Control UrologÃ­a / PSA"})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsxs)("div",{style:{flex:1},children:[(0,d.jsx)("small",{children:"Fecha y hora"}),(0,d.jsx)("input",{type:"datetime-local",value:q,onChange:a=>r(a.target.value)})]}),(0,d.jsxs)("div",{style:{flex:1},children:[(0,d.jsx)("small",{children:"Estado"}),(0,d.jsxs)("select",{value:s,onChange:a=>t(a.target.value),children:[(0,d.jsx)("option",{value:"planned",children:"Planificado"}),(0,d.jsx)("option",{value:"done",children:"Realizado"}),(0,d.jsx)("option",{value:"cancelled",children:"Cancelado"})]})]})]}),(0,d.jsxs)("div",{className:"row",children:[(0,d.jsxs)("div",{style:{flex:1},children:[(0,d.jsx)("small",{children:"Cantidad (opcional)"}),(0,d.jsx)("input",{value:u,onChange:a=>v(a.target.value),placeholder:"Ej: 1 / 500"})]}),(0,d.jsxs)("div",{style:{flex:1},children:[(0,d.jsx)("small",{children:"Unidad (opcional)"}),(0,d.jsx)("input",{value:w,onChange:a=>x(a.target.value),placeholder:"Ej: comp / mg / ml"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("small",{children:"Lugar (opcional)"}),(0,d.jsx)("input",{value:y,onChange:a=>z(a.target.value),placeholder:"Ej: ClÃ­nica / Hospital"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("small",{children:"Notas (opcional)"}),(0,d.jsx)("textarea",{value:A,onChange:a=>B(a.target.value),rows:3,placeholder:"QuÃ© llevar, preguntas, etc."})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("small",{children:"Profesional (opcional)"}),(0,d.jsxs)("select",{value:C,onChange:a=>D(a.target.value),children:[(0,d.jsx)("option",{value:"",children:"(sin profesional)"}),c.map(a=>(0,d.jsxs)("option",{value:a.id,children:[a.name," â€” ",a.specialty]},a.id))]}),(0,d.jsx)("small",{children:"Si no aparece, crea el profesional en /profesionales."})]}),(0,d.jsxs)("div",{className:"row",style:{marginTop:6},children:[(0,d.jsx)("button",{className:"btn",onClick:H,children:"Guardar"}),(0,d.jsx)("button",{className:"btn2",onClick:()=>l(!1),children:"Cancelar"})]})]})]}),(0,d.jsxs)("div",{className:"card",style:{marginBottom:12},children:[(0,d.jsx)("b",{children:"Filtrar"}),(0,d.jsxs)("select",{value:i,onChange:a=>j(a.target.value),style:{marginTop:8},children:[(0,d.jsx)("option",{value:"all",children:"Todo"}),(0,d.jsx)("option",{value:"control",children:"Controles"}),(0,d.jsx)("option",{value:"chemo",children:"Quimioterapias"}),(0,d.jsx)("option",{value:"exam",children:"ExÃ¡menes"}),(0,d.jsx)("option",{value:"med",children:"Medicamentos (tomas)"})]})]}),(0,d.jsxs)("div",{style:{display:"grid",gap:10},children:[G.map(a=>{var b,c;return(0,d.jsxs)("div",{className:"card",children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:10},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("b",{children:a.title}),(0,d.jsx)("div",{children:(0,d.jsxs)("small",{children:[(b=a.type,"med"===b?"Medicamento (toma)":"chemo"===b?"Quimioterapia":"exam"===b?"Examen":"Control")," â€¢ ",new Date(a.dateTime).toLocaleString()]})}),(0,d.jsx)("div",{children:(0,d.jsxs)("small",{children:["Estado:"," ",(0,d.jsx)("span",{style:{color:"planned"===a.status?"red":"inherit"},children:(c=a.status,"planned"===c?"Planificado":"done"===c?"Realizado":"Cancelado")})]})})]}),(0,d.jsxs)("div",{style:{display:"grid",gap:8},children:[("control"===a.type||"exam"===a.type||"chemo"===a.type)&&(0,d.jsx)("button",{className:"btn2",onClick:()=>K(a),children:"AÃ±adir al Calendario"}),(0,d.jsx)("button",{className:"btn2",onClick:()=>I(a),children:"done"===a.status?"Marcar pendiente":"Marcar realizado"}),(0,d.jsx)("button",{className:"btn2",onClick:()=>J(a.id),children:"Eliminar"})]})]}),(a.doseAmount||a.doseUnit)&&(0,d.jsx)("div",{style:{marginTop:8},children:(0,d.jsxs)("small",{children:["Cantidad: ",a.doseAmount??""," ",a.doseUnit??""]})}),a.location&&(0,d.jsx)("div",{style:{marginTop:4},children:(0,d.jsxs)("small",{children:["Lugar: ",a.location]})}),a.notes&&(0,d.jsx)("div",{style:{marginTop:8},children:a.notes})]},a.id)}),!G.length&&(0,d.jsx)("div",{className:"card",children:"Sin registros aÃºn."})]})]})}[f]=g.then?(await g)():g,a.s(["default",()=>i]),c()}catch(a){c(a)}},!1),3099,a=>a.a(async(b,c)=>{try{var d=a.i(9168),e=a.i(7068),f=a.i(2759),g=a.i(3590),h=a.i(7298),i=a.i(5205),j=a.i(9193),k=b([i]);[i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/index",pathname:"/",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/index",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__4ecf694b._.js.map